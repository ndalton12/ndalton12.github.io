<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Do LLMs actually know how to think about arithmetic?"><meta name="generator" content="Astro v5.16.9"><link rel="icon" type="image/png" href="/icon.png"><title>Replicating &quot;The Illusion of Thinking&quot; Paper with Simple Arithmetic | Niall Dalton</title><!-- Open Graph --><meta property="og:title" content="Replicating &#34;The Illusion of Thinking&#34; Paper with Simple Arithmetic | Niall Dalton"><meta property="og:description" content="Do LLMs actually know how to think about arithmetic?"><meta property="og:type" content="website"><meta property="og:url" content="https://ndalton12.github.io/blog/llm-arithmetic/"><link rel="stylesheet" href="/_astro/_slug_.Jf_mKb7K.css"></head> <body> <div class="relative"> <!-- Decorative dots pattern --> <svg class="hidden fixed transform right-0 top-[5%] z-0 xl:block" width="404" height="784" fill="none" viewBox="0 0 404 784"> <defs> <pattern id="dots-pattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"> <rect x="0" y="0" width="4" height="4" class="text-gray-200" fill="#edf2f7"></rect> </pattern> </defs> <rect width="404" height="784" fill="url(#dots-pattern)"></rect> </svg> <main class="p-8 relative lg:max-w-[75%] max-w-prose xs:p-24">  <header class="block mb-6 md:flex"> <div class="w-full max-w-[150px]"> <a href="/"> <img class="rounded-full transform transition-all duration-150 hover:scale-105" src="/me3_compressed.jpeg" alt="Niall Dalton"> </a> </div> <div class="flex-none pt-6 md:pt-1 md:flex-1 md:pl-20"> <h1 class="text-5xl text-primary font-bold leading-tight hover:text-primary/80 animate-fade-in-down"> <a href="/">Niall Dalton</a> </h1> <p class="text-gray-600">I write code and think about stuff.</p> <ul class="mt-6 uppercase tracking-wider"> <li class="inline list-none pr-4"> <a class="inline-block py-2 font-semibold text-xs text-gray-600 hover:text-black" href="https://github.com/ndalton12" target="_blank" rel="noopener noreferrer">
GitHub
</a> </li> <li class="inline list-none pr-4"> <a class="inline-block py-2 font-semibold text-xs text-gray-600 hover:text-black" href="https://www.linkedin.com/in/niall-dalton/" target="_blank" rel="noopener noreferrer">
LinkedIn
</a> </li> <li class="inline list-none pr-4"> <a class="inline-block py-2 font-semibold text-xs text-gray-600 hover:text-black" href="/blog">
Blog
</a> </li> </ul> </div> </header> <article> <h1 class="mt-16 text-4xl text-gray-900 font-bold">Replicating &quot;The Illusion of Thinking&quot; Paper with Simple Arithmetic</h1> <p class="text-gray-600 font-light">Posted on June 20, 2025</p> <div class="mt-16 prose">  <p><strong>TLDR</strong>: “Reasoning” LLMs cannot actually apply algorithms to arbitrary lengths of data through chain of thought, even when they should have enough tokens to do so; rather, they likely rely on a set of heuristics which breakdown on high difficulty or long length problems. Moreover, these models even appear to “give up” past a certain difficulty and emit less thinking tokens than on easier problems of the same type! A recent paper from Apple showed this behavior; here, we replicate the results using simple n-digit multiplication.</p>
<h1 id="the-illusion-of-thinking">The Illusion of Thinking</h1>
<p>The recent paper <a href="https://machinelearning.apple.com/research/illusion-of-thinking">“The Illusion of Thinking: Understanding the Strengths and Limitations of Reasoning Models via the Lens of Problem Complexity”</a> show that “LRMs have limitations in exact computation: they fail to use explicit algorithms and reason inconsistently across puzzles” and call into question the ability of Reasoning LLMs, a.k.a Large Reasoning Models (LRMs), to actually think, particularly in the algorithmic sense. The paper also makes an interesting discovery: reasoning effort increases with problem complexity up to a certain point, then decreases, despite adequate budget.</p>
<p>I replicated some of the results of the paper on simple multiplication problems, by varying the digit length (n x n) of the problem and the allowed thinking budget for Claude 3.7 Sonnet. The experiment itself is dead simple but the results corroborate much of the paper’s findings. The results are shown in the figure below.</p>
<p><img alt="figure 1" loading="lazy" decoding="async" fetchpriority="auto" width="1512" height="880" src="/_astro/Figure_1.Hfot1FtX_Z2vNOBb.webp" ></p>
<p>From the results, we see a few things. First, we can see that accuracy falls off abruptly as digit length increases and that increasing the thinking budget tends to right-shift the curve — but the curve’s shape tends to stay more or less the same. In the bottom left graph we can see the “giving up” behavior where tokens used initially increases, but eventually steeply falls off past a certain point. This is more pronounced for the larger thinking budgets (although budget=4096 shows this the best). Since we can only increase the digit length by integer amounts, the curves aren’t perfectly smooth, and the highest thinking budget tested (16834) does show some deviation from this behavior, although the overall shape is still similar. Likewise, the response time graph in the top right closely mirrors the token usage, as to be expected (since more tokens used means more response time).</p>
<p>Something interesting to point out though is that none of the thinking budgets actually saturate the full thinking budget (outside of no thinking I suppose). For example, budget 4096 only expends up to around 3000 tokens before “giving up”. However, we can still see performance increases when upping the budget to 8192 <em>despite</em> the fact that the 8192 budget also does not exceed the previous 4096 budget! <strong>This implies that allowing the model additional thinking budget can result in better performance <em>even when it does not use the additional budget</em></strong>. Given that we don’t know the inner workings of how Claude limits its thinking budget, it’s hard to know how this mechanism works, but perhaps it is similar to <a href="https://arxiv.org/abs/2506.13752">this recent paper</a>.</p>
<p>Code for the project is <a href="https://github.com/ndalton12/llm-arithmetic">here</a>. If you have the budget, feel free to fork and test with different models — the code is using LiteLLM so it should be easy to try different ones (although you may need to change the thinking parameter).</p>
<h1 id="the-obviously-jagged-frontier">The Obviously Jagged Frontier</h1>
<p>How can models which are pushing better and better results in mathematics competitions fail to do simple arithmetic? The idea that LLMs are incredibly smart at some things but relatively stupid at other things is known as the jagged frontier — that is, LLMs push well above average humans on some tasks and well below at others, hence creating a jagged boundary of intelligence.</p>
<p>It’s not yet clear why LLMs behave this way, but we can speculate about their nature from the results of “The Illusion of Thinking” and the results shown here. From <a href="https://transformer-circuits.pub/2025/attribution-graphs/methods.html">“Circuit Tracing”</a> we can see that Claude likely does addition through “several intermediate heuristics rather than a coherent procedural program with a single confident output.” It’s reasonable to assume that other arithmetic operations behave similarly (such as multiplication). By relying on heuristics, the models build uncertainty with each step, and perhaps recognize or are overwhelmed when needing to apply these heuristics across increasingly more digits in arithmetic problems. Or perhaps the <em>width</em> of the network limits its ability to produce coherent heuristics across larger digit inputs when applying complex, heuristic driven attention patterns.</p>
<p>That said, I think there are many open questions in this area. If you want to discuss, feel free to contact me at <a href="mailto:niall.dalton12@gmail.com">niall.dalton12@gmail.com</a>.</p>  </div> </article>  </main> </div> </body></html> <!-- Wikipedia preview hover card --> <div id="wiki-preview" class="fixed z-50 hidden w-96 rounded-md border bg-popover p-4 text-popover-foreground shadow-md"> <img id="wiki-preview-img" class="mb-3 hidden h-32 w-full rounded-md object-cover" alt=""> <h4 id="wiki-preview-title" class="font-semibold"></h4> <p id="wiki-preview-extract" class="mt-1 text-sm text-muted-foreground"></p> <a id="wiki-preview-link" href="#" target="_blank" rel="noopener noreferrer" class="mt-3 inline-flex items-center gap-1 text-xs text-primary hover:underline">
Read on Wikipedia →
</a> </div> <script type="module">const r=document.getElementById("wiki-preview"),s=document.getElementById("wiki-preview-img"),u=document.getElementById("wiki-preview-title"),o=document.getElementById("wiki-preview-extract"),m=document.getElementById("wiki-preview-link"),l={};let d,a=null;async function v(t){if(l[t])return l[t];const i=`https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(t.replace(/ /g,"_"))}`,e=await fetch(i);if(!e.ok)throw new Error("Failed to fetch");const n=await e.json();return l[t]=n,n}function w(t,i){if(!r||!u||!o||!m||!s)return;const e=parseInt(t.getAttribute("data-wiki-preview-length")||"")||400;u.textContent=i.title,o.textContent=i.extract?.length>e?i.extract.slice(0,e)+"...":i.extract||"",m.href=t.getAttribute("href")||"#",i.thumbnail?.source?(s.src=i.thumbnail.source,s.classList.remove("hidden")):s.classList.add("hidden");const n=t.getBoundingClientRect();let c=n.left+n.width/2-192,p=n.top-8;c=Math.max(8,Math.min(c,window.innerWidth-400)),r.style.left=`${c}px`,r.style.bottom=`${window.innerHeight-p}px`,r.style.top="auto",r.classList.remove("hidden")}function h(){d=setTimeout(()=>{r?.classList.add("hidden"),a=null},100)}document.querySelectorAll("[data-wiki-term]").forEach(t=>{t.addEventListener("mouseenter",async i=>{clearTimeout(d);const e=i.currentTarget;a=e;const n=e.getAttribute("data-wiki-term");if(!(!n||!o)){o.textContent="Loading...",w(e,{title:n,extract:"Loading..."});try{const c=await v(n);a===e&&w(e,c)}catch{a===e&&o&&(o.textContent="Could not load preview")}}}),t.addEventListener("mouseleave",h)});r?.addEventListener("mouseenter",()=>clearTimeout(d));r?.addEventListener("mouseleave",h);</script>